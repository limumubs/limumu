"use strict";(self["webpackChunkmumu"]=self["webpackChunkmumu"]||[]).push([[561],{116:function(e,t,i){var s=i(6518),o=i(2652),n=i(9306),a=i(8551),r=i(1767);s({target:"Iterator",proto:!0,real:!0},{find:function(e){a(this),n(e);var t=r(this),i=0;return o(t,(function(t,s){if(e(t,i++))return s(t)}),{IS_RECORD:!0,INTERRUPTED:!0}).result}})},713:function(e,t,i){var s=i(9565),o=i(9306),n=i(8551),a=i(1767),r=i(9462),c=i(6319),l=r((function(){var e=this.iterator,t=n(s(this.next,e)),i=this.done=!!t.done;if(!i)return c(e,this.mapper,[t.value,this.counter++],!0)}));e.exports=function(e){return n(this),o(e),new l(a(this),{mapper:e})}},1701:function(e,t,i){var s=i(6518),o=i(713),n=i(6395);s({target:"Iterator",proto:!0,real:!0,forced:n},{map:o})},2489:function(e,t,i){var s=i(6518),o=i(9565),n=i(9306),a=i(8551),r=i(1767),c=i(9462),l=i(6319),u=i(6395),f=c((function(){var e,t,i,s=this.iterator,n=this.predicate,r=this.next;while(1){if(e=a(o(r,s)),t=this.done=!!e.done,t)return;if(i=e.value,l(s,n,[i,this.counter++],!0))return i}}));s({target:"Iterator",proto:!0,real:!0,forced:u},{filter:function(e){return a(this),n(e),new f(r(this),{predicate:e})}})},3579:function(e,t,i){var s=i(6518),o=i(2652),n=i(9306),a=i(8551),r=i(1767);s({target:"Iterator",proto:!0,real:!0},{some:function(e){a(this),n(e);var t=r(this),i=0;return o(t,(function(t,s){if(e(t,i++))return s()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},6561:function(e,t,i){i.r(t),i.d(t,{default:function(){return l}});var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"mobile-game-config"},[t("header",{staticClass:"header-bar"},[t("button",{staticClass:"back-btn",on:{click:e.goBack}},[t("svg",{attrs:{viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z"}})])]),t("h1",{staticClass:"header-title"},[e._v("运行配置")]),t("div",{staticClass:"header-placeholder"})]),t("main",{staticClass:"main-content"},[t("form",{staticClass:"config-form",on:{submit:function(t){return t.preventDefault(),e.submitForm.apply(null,arguments)}}},[t("div",{staticClass:"form-section"},[t("label",{staticClass:"section-label"},[e._v("选择服务区")]),t("div",{staticClass:"select-trigger",on:{click:function(t){return e.openPicker("server")}}},[t("span",{staticClass:"selected-value"},[e._v(e._s(e.form.server||"请选择服务区"))]),t("svg",{staticClass:"trigger-icon",attrs:{viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M7,10L12,15L17,10H7Z"}})])])]),t("div",{staticClass:"form-section"},[t("label",{staticClass:"section-label"},[e._v("角色运行个数")]),t("div",{staticClass:"number-stepper"},[t("button",{staticClass:"stepper-btn",attrs:{type:"button",disabled:e.form.characterCount<=1},on:{click:e.decrementCount}},[t("svg",{attrs:{viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M19,13H5V11H19V13Z"}})])]),t("span",{staticClass:"stepper-value"},[e._v(e._s(e.form.characterCount))]),t("button",{staticClass:"stepper-btn",attrs:{type:"button",disabled:e.form.characterCount>=5},on:{click:e.incrementCount}},[t("svg",{attrs:{viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z"}})])])])]),t("div",{staticClass:"form-section"},[t("label",{staticClass:"section-label"},[e._v("额外功能设置")]),t("div",{staticClass:"extra-options"},[t("div",{staticClass:"option-item"},[t("label",{staticClass:"option-label"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.groupSignIn,expression:"form.groupSignIn"}],staticClass:"option-checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.form.groupSignIn)?e._i(e.form.groupSignIn,null)>-1:e.form.groupSignIn},on:{change:function(t){var i=e.form.groupSignIn,s=t.target,o=!!s.checked;if(Array.isArray(i)){var n=null,a=e._i(i,n);s.checked?a<0&&e.$set(e.form,"groupSignIn",i.concat([n])):a>-1&&e.$set(e.form,"groupSignIn",i.slice(0,a).concat(i.slice(a+1)))}else e.$set(e.form,"groupSignIn",o)}}}),t("span",{staticClass:"option-text"},[e._v("群签到")])])]),t("div",{staticClass:"option-item"},[t("label",{staticClass:"option-label"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.buyWelfare,expression:"form.buyWelfare"}],staticClass:"option-checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.form.buyWelfare)?e._i(e.form.buyWelfare,null)>-1:e.form.buyWelfare},on:{change:function(t){var i=e.form.buyWelfare,s=t.target,o=!!s.checked;if(Array.isArray(i)){var n=null,a=e._i(i,n);s.checked?a<0&&e.$set(e.form,"buyWelfare",i.concat([n])):a>-1&&e.$set(e.form,"buyWelfare",i.slice(0,a).concat(i.slice(a+1)))}else e.$set(e.form,"buyWelfare",o)}}}),t("span",{staticClass:"option-text"},[e._v("购买福利")])])]),t("div",{staticClass:"option-item"},[t("label",{staticClass:"option-label"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.buyBloodPack,expression:"form.buyBloodPack"}],staticClass:"option-checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.form.buyBloodPack)?e._i(e.form.buyBloodPack,null)>-1:e.form.buyBloodPack},on:{change:function(t){var i=e.form.buyBloodPack,s=t.target,o=!!s.checked;if(Array.isArray(i)){var n=null,a=e._i(i,n);s.checked?a<0&&e.$set(e.form,"buyBloodPack",i.concat([n])):a>-1&&e.$set(e.form,"buyBloodPack",i.slice(0,a).concat(i.slice(a+1)))}else e.$set(e.form,"buyBloodPack",o)}}}),t("span",{staticClass:"option-text"},[e._v("购买药水")])])]),t("div",{staticClass:"option-item"},[t("label",{staticClass:"option-label"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.switchEquipment,expression:"form.switchEquipment"}],staticClass:"option-checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.form.switchEquipment)?e._i(e.form.switchEquipment,null)>-1:e.form.switchEquipment},on:{change:function(t){var i=e.form.switchEquipment,s=t.target,o=!!s.checked;if(Array.isArray(i)){var n=null,a=e._i(i,n);s.checked?a<0&&e.$set(e.form,"switchEquipment",i.concat([n])):a>-1&&e.$set(e.form,"switchEquipment",i.slice(0,a).concat(i.slice(a+1)))}else e.$set(e.form,"switchEquipment",o)}}}),t("span",{staticClass:"option-text"},[e._v("切换装备")])])]),e._m(0),e._m(1)])]),t("div",{staticClass:"form-section"},[t("label",{staticClass:"section-label"},[e._v("挂机设置")]),t("div",{staticClass:"select-trigger",on:{click:function(t){return e.openPicker("afkMode")}}},[t("span",{staticClass:"selected-value"},[e._v(e._s(e.getAfkModeLabel(e.form.afkMode)))]),t("svg",{staticClass:"trigger-icon",attrs:{viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M7,10L12,15L17,10H7Z"}})])])]),t("div",{staticClass:"form-section"},[t("label",{staticClass:"section-label"},[e._v("选择副本 (可多选)")]),t("div",{staticClass:"dungeon-grid"},e._l(e.dungeons,(function(i){return t("button",{key:i.id,staticClass:"dungeon-btn",class:{active:e.isDungeonSelected(i.id)},attrs:{type:"button"},on:{click:function(t){return e.toggleDungeon(i.id)}}},[e._v(" "+e._s(i.name)+" ")])})),0)]),e._l(e.form.selectedDungeons,(function(i){return t("div",{key:`difficulty-${i}`,staticClass:"form-section"},[t("label",{staticClass:"section-label"},[e._v(e._s(e.getDungeonName(i))+" - 难度")]),t("div",{staticClass:"select-trigger",on:{click:function(t){return e.openDifficultyPicker(i)}}},[t("span",{staticClass:"selected-value"},[e._v(e._s(e.getCurrentDifficultyLabel(i)))]),t("svg",{staticClass:"trigger-icon",attrs:{viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M7,10L12,15L17,10H7Z"}})])])])})),t("button",{staticClass:"submit-btn",attrs:{type:"submit"}},[t("svg",{staticClass:"btn-icon",attrs:{viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M17,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V7L17,3M12,19A4,4 0 0,1 8,15A4,4 0 0,1 12,11A4,4 0 0,1 16,15A4,4 0 0,1 12,19M15,9H9V5H15V9Z"}})]),e._v(" 保存配置 ("+e._s(e.form.selectedDungeons.length)+"个副本) ")])],2)]),t("footer",{staticClass:"bottom-bar"},[t("button",{staticClass:"action-btn",on:{click:e.clearForm}},[t("svg",{attrs:{viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"}})]),e._v(" 清空 ")]),t("button",{staticClass:"action-btn primary",on:{click:e.submitForm}},[t("svg",{attrs:{viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}})]),e._v(" 提交 ")])]),t("transition",{attrs:{name:"fade"}},[e.showPicker?t("div",{staticClass:"modal-mask",on:{click:function(t){return t.target!==t.currentTarget?null:e.cancelPicker.apply(null,arguments)}}}):e._e()]),t("transition",{attrs:{name:"slide-up"}},[e.showPicker?t("div",{staticClass:"bottom-picker"},[t("div",{staticClass:"picker-header"},[t("button",{staticClass:"picker-cancel",on:{click:e.cancelPicker}},[e._v("取消")]),t("h3",{staticClass:"picker-title"},[e._v(e._s(e.pickerTitle))]),t("button",{staticClass:"picker-confirm",on:{click:e.confirmPicker}},[e._v("确定")])]),t("div",{staticClass:"picker-content"},e._l(e.pickerItems,(function(i,s){return t("div",{key:i.id||s,staticClass:"picker-item",class:{active:e.isPickerItemActive(i)},on:{click:function(t){return e.selectPickerItem(i)}}},[e._v(" "+e._s(i.label||i)+" ")])})),0)]):e._e()]),t("transition",{attrs:{name:"fade"}},[e.showToast?t("div",{staticClass:"toast",class:e.toastType},[t("svg",{staticClass:"toast-icon",attrs:{viewBox:"0 0 24 24"}},["success"===e.toastType?t("path",{attrs:{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}}):e._e(),"error"===e.toastType?t("path",{attrs:{d:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"}}):e._e()]),t("span",{staticClass:"toast-message"},[e._v(e._s(e.toastMessage))])]):e._e()])],1)},o=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"option-item disabled"},[t("label",{staticClass:"option-label"},[t("input",{staticClass:"option-checkbox",attrs:{type:"checkbox",readonly:"",checked:""}}),t("span",{staticClass:"option-text"},[e._v("金币复活")])])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"option-item disabled"},[t("label",{staticClass:"option-label"},[t("input",{staticClass:"option-checkbox",attrs:{type:"checkbox",readonly:"",checked:""}}),t("span",{staticClass:"option-text"},[e._v("领取邮件(角1生效)")])])])}],n=(i(4114),i(8111),i(2489),i(116),i(1701),i(3579),{name:"MobileMultiDungeonConfig",data(){return{servers:["阿萨01","阿萨02","阿萨03","阿萨04","阿萨05","阿萨04","华纳01","华纳02","华纳03","华纳04","华纳05","华纳04"],afkModes:[{value:"none",label:"不挂机"},{value:"normal",label:"挂机点1"},{value:"intensive",label:"挂机点2"},{value:"custom",label:"挂机点3"}],dungeons:[{id:"d1",name:"剧毒之蛇巢穴",difficulties:["普通","困难","极难","极恶"]},{id:"d2",name:"被遗忘的巨人洞穴",difficulties:["普通","困难","极难","极恶"]},{id:"d3",name:"侏儒王室的坟墓",difficulties:["普通","困难","极难","极恶"]},{id:"d4",name:"亡者码头",difficulties:["普通","困难","极难","极恶"]},{id:"d5",name:"虚无遗址",difficulties:["第2阶段","第3阶段","第4阶段","第5阶段","第6阶段","第7阶段","第8阶段"]},{id:"d6",name:"侏儒密道",difficulties:["第2阶段","第3阶段","第4阶段","第5阶段","第7阶段","第8阶段"]}],form:{server:"",characterCount:1,groupSignIn:!1,buyWelfare:!1,buyBloodPack:!1,switchEquipment:!1,afkMode:"none",selectedDungeons:[],dungeonDifficulties:[]},showPicker:!1,pickerType:"",pickerTitle:"",pickerItems:[],tempPickerValue:null,currentDungeonId:null,showToast:!1,toastMessage:"",toastType:"success"}},created(){this.loadFormData()},methods:{goBack(){this.$goBackOrHome()},incrementCount(){this.form.characterCount<10&&this.form.characterCount++},decrementCount(){this.form.characterCount>1&&this.form.characterCount--},isDungeonSelected(e){return this.form.selectedDungeons.includes(e)},toggleDungeon(e){const t=this.form.selectedDungeons.indexOf(e);-1===t?(this.form.selectedDungeons.push(e),this.setDungeonDifficulty(e,0)):(this.form.selectedDungeons.splice(t,1),this.form.dungeonDifficulties=this.form.dungeonDifficulties.filter((t=>t.dungeonId!==e)))},getDungeonName(e){const t=this.dungeons.find((t=>t.id===e));return t?t.name:""},getCurrentDifficultyLabel(e){const t=this.form.dungeonDifficulties.find((t=>t.dungeonId===e)),i=this.dungeons.find((t=>t.id===e));return t&&i&&i.difficulties[t.index]||"请选择难度"},setDungeonDifficulty(e,t){const i=this.form.dungeonDifficulties.findIndex((t=>t.dungeonId===e));i>=0?this.form.dungeonDifficulties[i].index=t:this.form.dungeonDifficulties.push({dungeonId:e,index:t})},getAfkModeLabel(e){const t=this.afkModes.find((t=>t.value===e));return t?t.label:"请选择挂机模式"},openPicker(e){switch(this.pickerType=e,e){case"server":this.pickerTitle="选择服务区",this.pickerItems=this.servers,this.tempPickerValue=this.form.server;break;case"afkMode":this.pickerTitle="选择挂机模式",this.pickerItems=this.afkModes,this.tempPickerValue=this.form.afkMode;break;default:return}this.showPicker=!0},openDifficultyPicker(e){this.currentDungeonId=e,this.pickerType="difficulty",this.pickerTitle=`选择${this.getDungeonName(e)}难度`;const t=this.dungeons.find((t=>t.id===e));t&&(this.pickerItems=t.difficulties.map(((e,t)=>({label:e,value:t}))));const i=this.form.dungeonDifficulties.find((t=>t.dungeonId===e));this.tempPickerValue=i?i.index:null,this.showPicker=!0},isPickerItemActive(e){return"afkMode"===this.pickerType||"difficulty"===this.pickerType?this.tempPickerValue===e.value:this.tempPickerValue===e},selectPickerItem(e){"afkMode"===this.pickerType||"difficulty"===this.pickerType?this.tempPickerValue=e.value:this.tempPickerValue=e},confirmPicker(){switch(this.pickerType){case"server":this.tempPickerValue&&(this.form.server=this.tempPickerValue);break;case"afkMode":this.tempPickerValue&&(this.form.afkMode=this.tempPickerValue);break;case"difficulty":this.currentDungeonId&&null!==this.tempPickerValue&&this.setDungeonDifficulty(this.currentDungeonId,this.tempPickerValue);break}this.showPicker=!1},cancelPicker(){this.showPicker=!1},clearForm(){this.form={server:"",characterCount:1,groupSignIn:!1,buyWelfare:!1,buyBloodPack:!1,switchEquipment:!1,afkMode:"none",selectedDungeons:[],dungeonDifficulties:[]},localStorage.removeItem("dungeonConfig"),this.showNotification("已清空表单","success")},submitForm(){if(!this.form.server)return void this.showNotification("请选择服务区","error");if(0===this.form.selectedDungeons.length)return void this.showNotification("请至少选择一个副本","error");for(const t of this.form.selectedDungeons)if(!this.form.dungeonDifficulties.some((e=>e.dungeonId===t)))return void this.showNotification(`请设置${this.getDungeonName(t)}的难度`,"error");this.saveFormData();const e={server:this.servers.indexOf(this.form.server),characterCount:this.form.characterCount,groupSignIn:this.form.groupSignIn,buyWelfare:this.form.buyWelfare,buyBloodPack:this.form.buyBloodPack,switchEquipment:this.form.switchEquipment,afkMode:this.form.afkMode,selectedDungeons:this.form.selectedDungeons.map((e=>this.dungeons.findIndex((t=>t.id===e)))),dungeonDifficulties:this.form.dungeonDifficulties.map((e=>({dungeonIndex:this.dungeons.findIndex((t=>t.id===e.dungeonId)),difficultyIndex:e.index})))};this.showNotification("配置保存成功","success"),console.log("配置已提交:",e)},showNotification(e,t="success"){this.toastMessage=e,this.toastType=t,this.showToast=!0,setTimeout((()=>{this.showToast=!1}),3e3)},saveFormData(){const e={server:this.servers.indexOf(this.form.server),characterCount:this.form.characterCount,groupSignIn:this.form.groupSignIn,buyWelfare:this.form.buyWelfare,buyBloodPack:this.form.buyBloodPack,switchEquipment:this.form.switchEquipment,afkMode:this.form.afkMode,selectedDungeons:this.form.selectedDungeons.map((e=>this.dungeons.findIndex((t=>t.id===e)))),dungeonDifficulties:this.form.dungeonDifficulties.map((e=>({dungeonIndex:this.dungeons.findIndex((t=>t.id===e.dungeonId)),difficultyIndex:e.index})))};localStorage.setItem("dungeonConfig",JSON.stringify(e))},loadFormData(){const e=localStorage.getItem("dungeonConfig");if(e)try{const t=JSON.parse(e);this.form={server:this.servers[t.server]||"",characterCount:t.characterCount||1,groupSignIn:t.groupSignIn||!1,buyWelfare:t.buyWelfare||!1,buyBloodPack:t.buyBloodPack||!1,switchEquipment:t.switchEquipment||!1,afkMode:t.afkMode||"none",selectedDungeons:t.selectedDungeons.map((e=>this.dungeons[e]?.id||"")).filter(Boolean),dungeonDifficulties:t.dungeonDifficulties.map((e=>({dungeonId:this.dungeons[e.dungeonIndex]?.id||"",index:e.difficultyIndex}))).filter((e=>e.dungeonId))}}catch(t){console.error("加载保存的配置失败:",t)}}}}),a=n,r=i(1656),c=(0,r.A)(a,s,o,!1,null,"10eec82a",null),l=c.exports}}]);
//# sourceMappingURL=561.38a74c15.js.map