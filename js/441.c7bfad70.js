"use strict";(self["webpackChunkmumu"]=self["webpackChunkmumu"]||[]).push([[441],{2489:function(t,i,s){var e=s(6518),a=s(9565),o=s(9306),r=s(8551),n=s(1767),c=s(9462),l=s(6319),d=s(6395),h=c((function(){var t,i,s,e=this.iterator,o=this.predicate,n=this.next;while(1){if(t=r(a(n,e)),i=this.done=!!t.done,i)return;if(s=t.value,l(e,o,[s,this.counter++],!0))return s}}));e({target:"Iterator",proto:!0,real:!0,forced:d},{filter:function(t){return r(this),o(t),new h(n(this),{predicate:t})}})},3441:function(t,i,s){s.r(i),s.d(i,{default:function(){return l}});var e=function(){var t=this,i=t._self._c;return i("div",{staticClass:"mobile-game-config"},[i("header",{staticClass:"header-bar"},[i("button",{staticClass:"back-btn",on:{click:t.goBack}},[i("svg",{attrs:{viewBox:"0 0 24 24"}},[i("path",{attrs:{d:"M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z"}})])]),i("h1",{staticClass:"header-title"},[t._v("配置设置")]),i("div",{staticClass:"header-placeholder"})]),i("main",{staticClass:"main-content"},[i("div",{staticClass:"home-view"},[i("div",{staticClass:"category-list"},t._l(t.categories,(function(s,e){return i("div",{key:s.id,staticClass:"category-item",class:{"missing-required":t.hasMissingRequiredFields(s)}},[i("div",{staticClass:"category-header"},[i("div",{staticClass:"category-icon",style:{backgroundColor:s.color}},[i("div",{staticClass:"icon-placeholder"},[t._v(t._s(s.name.charAt(0)))])]),i("div",{staticClass:"category-details",on:{click:function(i){return t.toggleCategory(s)}}},[i("h3",[t._v(t._s(s.name))]),t.hasMissingRequiredFields(s)?i("span",{staticClass:"missing-indicator"},[t._v("有未填写项")]):t._e()]),i("div",{staticClass:"category-actions"},[i("button",{staticClass:"edit-btn",on:{click:function(i){return i.stopPropagation(),t.editCategory(e)}}},[i("svg",{attrs:{viewBox:"0 0 24 24",width:"16",height:"16"}},[i("path",{attrs:{d:"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z"}})])]),i("button",{staticClass:"clear-btn",on:{click:function(i){return i.stopPropagation(),t.showClearCategoryConfirm(e)}}},[i("svg",{attrs:{viewBox:"0 0 24 24",width:"16",height:"16"}},[i("path",{attrs:{d:"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"}})])])]),i("div",{staticClass:"category-arrow",on:{click:function(i){return t.toggleCategory(s)}}},[i("svg",{style:{transform:s.expanded?"rotate(180deg)":"rotate(0deg)"},attrs:{viewBox:"0 0 24 24",width:"20",height:"20"}},[i("path",{attrs:{d:"M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z"}})])])]),i("transition",{attrs:{name:"slide"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:s.expanded,expression:"category.expanded"}],staticClass:"category-features"},[i("div",{staticClass:"features-grid"},t._l(s.features,(function(s,a){return i("div",{key:s.id,staticClass:"feature-item",class:{"missing-field":t.isFeatureMissing(s)}},[i("div",{staticClass:"feature-content"},[s.imageUrl?i("div",{staticClass:"feature-image"},[i("img",{attrs:{src:s.imageUrl}})]):i("div",{staticClass:"feature-icon",style:{backgroundColor:s.color}},[t._v(" "+t._s(s.name.charAt(0))+" ")]),i("div",{staticClass:"feature-info"},[i("h4",[t._v(t._s(s.name))]),s.coordinates?i("div",{staticClass:"coordinates"},[i("span",{class:{"missing-value":!s.coordinates.x}},[t._v("X: "+t._s(s.coordinates.x||"未填写"))]),i("span",{class:{"missing-value":!s.coordinates.y}},[t._v("Y: "+t._s(s.coordinates.y||"未填写"))])]):s.imageUrl?t._e():i("div",{staticClass:"missing-value"},[t._v(" 图片未上传 ")])])]),i("div",{staticClass:"feature-actions"},[i("button",{staticClass:"edit-btn",on:{click:function(i){return i.stopPropagation(),t.editFeature(e,a)}}},[i("svg",{attrs:{viewBox:"0 0 24 24",width:"14",height:"14"}},[i("path",{attrs:{d:"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z"}})]),i("span",[t._v("编辑")])]),i("button",{staticClass:"clear-btn",on:{click:function(i){return i.stopPropagation(),t.showClearFeatureConfirm(e,a)}}},[i("svg",{attrs:{viewBox:"0 0 24 24",width:"14",height:"14"}},[i("path",{attrs:{d:"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"}})]),i("span",[t._v("清空")])])])])})),0)])])],1)})),0)])]),i("footer",{staticClass:"bottom-bar"},[i("button",{staticClass:"action-btn",on:{click:t.showClearAllConfirm}},[i("svg",{attrs:{viewBox:"0 0 24 24"}},[i("path",{attrs:{d:"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"}})]),t._v(" 清空 ")]),i("button",{staticClass:"action-btn primary",on:{click:t.validateAndSave}},[i("svg",{attrs:{viewBox:"0 0 24 24"}},[i("path",{attrs:{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}})]),t._v(" 保存 ")])]),i("transition",{attrs:{name:"fade"}},[t.showPicker||t.showConfirmDialog?i("div",{staticClass:"modal-mask",on:{click:function(i){return i.target!==i.currentTarget?null:t.cancelPicker.apply(null,arguments)}}}):t._e()]),i("transition",{attrs:{name:"slide-up"}},[t.showPicker?i("div",{staticClass:"bottom-picker"},[i("div",{staticClass:"picker-header"},[i("button",{staticClass:"picker-cancel",on:{click:t.cancelPicker}},[t._v("取消")]),i("h3",{staticClass:"picker-title"},[t._v(t._s(t.pickerTitle))]),i("button",{staticClass:"picker-confirm",on:{click:t.confirmPicker}},[t._v("确定")])]),i("div",{staticClass:"picker-content"},t._l(t.pickerItems,(function(s,e){return i("div",{key:s.id||e,staticClass:"picker-item",class:{active:t.isPickerItemActive(s)},on:{click:function(i){return t.selectPickerItem(s)}}},[t._v(" "+t._s(s.label||s)+" ")])})),0)]):t._e()]),i("transition",{attrs:{name:"fade"}},[t.showConfirmDialog?i("div",{staticClass:"confirm-dialog"},[i("div",{staticClass:"dialog-content"},[i("h3",{staticClass:"dialog-title"},[t._v(t._s(t.confirmTitle))]),i("p",{staticClass:"dialog-message"},[t._v(t._s(t.confirmMessage))]),i("div",{staticClass:"dialog-actions"},[i("button",{staticClass:"dialog-btn cancel",on:{click:t.cancelConfirm}},[t._v("取消")]),i("button",{staticClass:"dialog-btn confirm",on:{click:t.executeConfirmAction}},[t._v("确定")])])])]):t._e()]),i("transition",{attrs:{name:"fade"}},[t.showToast?i("div",{staticClass:"toast",class:t.toastType},[i("svg",{staticClass:"toast-icon",attrs:{viewBox:"0 0 24 24"}},["success"===t.toastType?i("path",{attrs:{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}}):t._e(),"error"===t.toastType?i("path",{attrs:{d:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"}}):t._e()]),i("span",{staticClass:"toast-message"},[t._v(t._s(t.toastMessage))])]):t._e()])],1)},a=[],o=(s(4114),s(8111),s(2489),s(7588),s(3579),{name:"MobileGamePage",data(){return{showPicker:!1,pickerTitle:"",pickerItems:[],pickerType:"",tempPickerValue:null,showToast:!1,toastMessage:"",toastType:"success",showConfirmDialog:!1,confirmTitle:"",confirmMessage:"",pendingAction:null,pendingActionArgs:[],categories:[{id:"settings",name:"系统设置",color:"#e3f2fd",expanded:!1,features:[{id:"sound",name:"音效设置",color:"#4a6bff",coordinates:{x:100,y:200}},{id:"graphics",name:"画面设置",color:"#4a6bff",imageUrl:"https://via.placeholder.com/150x100/4a6bff/ffffff?text=画面设置"},{id:"controls",name:"控制设置",color:"#4a6bff",coordinates:{x:null,y:null}}]},{id:"communication",name:"社交功能",color:"#e8f5e9",expanded:!1,features:[{id:"mail",name:"邮件系统",color:"#4caf50",imageUrl:"https://via.placeholder.com/150x100/4caf50/ffffff?text=邮件系统"},{id:"chat",name:"聊天功能",color:"#4caf50",coordinates:{x:150,y:250}},{id:"friends",name:"好友系统",color:"#4caf50",imageUrl:null}]},{id:"activities",name:"日常活动",color:"#fff8e1",expanded:!1,features:[{id:"daily",name:"每日签到",color:"#ff9800",coordinates:{x:200,y:300}},{id:"quests",name:"每日任务",color:"#ff9800",imageUrl:"https://via.placeholder.com/150x100/ff9800/ffffff?text=每日任务"},{id:"events",name:"限时活动",color:"#ff9800",coordinates:{x:null,y:null}}]}]}},methods:{goBack(){this.$goBackOrHome()},toggleCategory(t){t.expanded=!t.expanded},editCategory(t){console.log("编辑分类:",this.categories[t]),this.$router.push({path:"/cropping",query:{id:0}})},editFeature(t,i){console.log("编辑功能项:",this.categories[t].features[i]),this.$router.push({path:"/mark",query:{id:0}})},hasMissingRequiredFields(t){return t.features.some((t=>this.isFeatureMissing(t)))},isFeatureMissing(t){return t.coordinates?null===t.coordinates.x||null===t.coordinates.y:!t.imageUrl},validateAndSave(){const t=this.categories.filter((t=>this.hasMissingRequiredFields(t)));if(t.length>0)return t.forEach((t=>{t.expanded=!0})),void this.showNotification("请先填写所有必填项","error");this.saveAll()},showClearCategoryConfirm(t){this.confirmTitle="清空分类内容",this.confirmMessage="确定要清空此分类下的所有坐标和图片吗？",this.pendingAction=this.clearCategory,this.pendingActionArgs=[t],this.showConfirmDialog=!0},showClearFeatureConfirm(t,i){this.confirmTitle="清空功能项",this.confirmMessage="确定要清空此项的坐标或图片吗？",this.pendingAction=this.clearFeature,this.pendingActionArgs=[t,i],this.showConfirmDialog=!0},showClearAllConfirm(){this.confirmTitle="清空所有内容",this.confirmMessage="确定要清空所有坐标和图片吗？",this.pendingAction=this.clearAll,this.pendingActionArgs=[],this.showConfirmDialog=!0},executeConfirmAction(){this.pendingAction&&this.pendingAction(...this.pendingActionArgs),this.showConfirmDialog=!1},cancelConfirm(){this.showConfirmDialog=!1},clearCategory(t){this.categories[t].features.forEach((t=>{t.coordinates&&(t.coordinates.x=null,t.coordinates.y=null),t.imageUrl&&(t.imageUrl=null)})),this.showNotification("分类内容已清空","success")},clearFeature(t,i){const s=this.categories[t].features[i];s.coordinates&&(s.coordinates.x=null,s.coordinates.y=null),s.imageUrl&&(s.imageUrl=null),this.showNotification("内容已清空","success")},clearAll(){this.categories.forEach((t=>{t.features.forEach((t=>{t.coordinates&&(t.coordinates.x=null,t.coordinates.y=null),t.imageUrl&&(t.imageUrl=null)}))})),this.showNotification("所有内容已清空","success")},saveAll(){console.log("保存数据:",this.categories),this.showNotification("数据保存成功","success")},openPicker(t){this.pickerType=t,this.pickerTitle="选择项",this.pickerItems=["选项1","选项2","选项3"],this.showPicker=!0},isPickerItemActive(t){return this.tempPickerValue===t},selectPickerItem(t){this.tempPickerValue=t},confirmPicker(){this.showPicker=!1,this.showNotification("选择已确认","success")},cancelPicker(){this.showPicker=!1},showNotification(t,i="success"){this.toastMessage=t,this.toastType=i,this.showToast=!0,setTimeout((()=>{this.showToast=!1}),3e3)}}}),r=o,n=s(1656),c=(0,n.A)(r,e,a,!1,null,"339478a0",null),l=c.exports},3579:function(t,i,s){var e=s(6518),a=s(2652),o=s(9306),r=s(8551),n=s(1767);e({target:"Iterator",proto:!0,real:!0},{some:function(t){r(this),o(t);var i=n(this),s=0;return a(i,(function(i,e){if(t(i,s++))return e()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},7588:function(t,i,s){var e=s(6518),a=s(2652),o=s(9306),r=s(8551),n=s(1767);e({target:"Iterator",proto:!0,real:!0},{forEach:function(t){r(this),o(t);var i=n(this),s=0;a(i,(function(i){t(i,s++)}),{IS_RECORD:!0})}})}}]);
//# sourceMappingURL=441.c7bfad70.js.map