"use strict";(self["webpackChunkmumu"]=self["webpackChunkmumu"]||[]).push([[568],{3568:function(a,t,s){s.r(t),s.d(t,{default:function(){return d}});var l=function(){var a=this,t=a._self._c;return t("div",{staticClass:"settings-page"},[t("header",{staticClass:"header-bar"},[t("button",{staticClass:"back-btn",on:{click:a.goBack}},[t("svg",{attrs:{viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z"}})])]),t("h1",{staticClass:"header-title"},[a._v("设置")]),t("div",{staticClass:"header-placeholder"})]),t("div",{staticClass:"settings-list"},[t("div",{staticClass:"setting-item",on:{click:a.showWallpaperDialog}},[a._m(0),t("div",{staticClass:"setting-right"},[a.$globalConfig.currentWallpaper?t("span",{staticClass:"current-wallpaper"},[a._v("已设置")]):a._e(),t("i",{staticClass:"arrow"})])]),t("div",{staticClass:"setting-item",on:{click:a.showClearCacheDialog}},[a._m(1),t("i",{staticClass:"arrow"})]),t("div",{staticClass:"setting-item",on:{click:a.showAboutDialog}},[a._m(2),t("i",{staticClass:"arrow"})])]),a.showWallpaper?t("div",{staticClass:"dialog-mask",on:{click:a.hideWallpaperDialog}},[t("div",{staticClass:"wallpaper-dialog",on:{click:function(a){a.stopPropagation()}}},[t("div",{staticClass:"dialog-header"},[t("h3",[a._v("选择壁纸")]),t("i",{staticClass:"close-icon",on:{click:a.hideWallpaperDialog}},[a._v("×")])]),t("div",{staticClass:"wallpaper-tabs"},[t("button",{staticClass:"tab-btn",class:{active:"preset"===a.activeTab},on:{click:function(t){a.activeTab="preset"}}},[a._v(" 预设壁纸 ")]),t("button",{staticClass:"tab-btn",class:{active:"custom"===a.activeTab},on:{click:function(t){a.activeTab="custom"}}},[a._v(" 自定义壁纸 ")])]),t("div",{directives:[{name:"show",rawName:"v-show",value:"preset"===a.activeTab,expression:"activeTab === 'preset'"}],staticClass:"wallpaper-container"},a._l(a.wallpapers,(function(s,l){return t("div",{key:l,staticClass:"wallpaper-item",class:{selected:a.selectedWallpaper===s.path},on:{click:function(t){return a.selectWallpaper(s.path)}}},[t("img",{attrs:{src:s.path,alt:s.name}}),t("div",{staticClass:"wallpaper-name"},[a._v(a._s(s.name))]),a.selectedWallpaper===s.path?t("div",{staticClass:"checkmark"},[a._v("✓")]):a._e()])})),0),t("div",{directives:[{name:"show",rawName:"v-show",value:"custom"===a.activeTab,expression:"activeTab === 'custom'"}],staticClass:"custom-wallpaper-container"},[t("div",{staticClass:"url-input-container"},[t("input",{directives:[{name:"model",rawName:"v-model",value:a.customWallpaperUrl,expression:"customWallpaperUrl"}],staticClass:"url-input",attrs:{type:"text",placeholder:"输入壁纸网络地址"},domProps:{value:a.customWallpaperUrl},on:{keyup:function(t){return!t.type.indexOf("key")&&a._k(t.keyCode,"enter",13,t.key,"Enter")?null:a.addCustomWallpaper.apply(null,arguments)},input:function(t){t.target.composing||(a.customWallpaperUrl=t.target.value)}}}),t("button",{staticClass:"add-btn",on:{click:a.addCustomWallpaper}},[a._v("添加")])]),t("div",{staticClass:"wallpaper-container"},a._l(a.customWallpapers,(function(s,l){return t("div",{key:"custom-"+l,staticClass:"wallpaper-item",class:{selected:a.selectedWallpaper===s},on:{click:function(t){return a.selectWallpaper(s)}}},[t("img",{attrs:{src:s,alt:"自定义壁纸"}}),a.selectedWallpaper===s?t("div",{staticClass:"checkmark"},[a._v("✓")]):a._e(),t("button",{staticClass:"delete-btn",on:{click:function(t){return t.stopPropagation(),a.removeCustomWallpaper(l)}}},[a._v("×")])])})),0)]),t("div",{staticClass:"dialog-footer"},[t("button",{staticClass:"cancel-btn",on:{click:a.hideWallpaperDialog}},[a._v("取消")]),t("button",{staticClass:"confirm-btn",on:{click:a.confirmWallpaper}},[a._v("确定")])])])]):a._e(),a.showAbout?t("div",{staticClass:"dialog-mask",on:{click:a.hideAboutDialog}},[t("div",{staticClass:"about-dialog",on:{click:function(a){a.stopPropagation()}}},[t("div",{staticClass:"dialog-header"},[t("h3",[a._v("关于我们")]),t("i",{staticClass:"close-icon",on:{click:a.hideAboutDialog}},[a._v("×")])]),a._m(3),t("div",{staticClass:"dialog-footer"},[t("button",{staticClass:"confirm-btn",on:{click:a.hideAboutDialog}},[a._v("我知道了")])])])]):a._e(),a.showClearCacheConfirm?t("div",{staticClass:"dialog-mask",on:{click:a.hideClearCacheDialog}},[t("div",{staticClass:"confirm-dialog",on:{click:function(a){a.stopPropagation()}}},[t("div",{staticClass:"dialog-header"},[t("h3",[a._v("清除缓存")]),t("i",{staticClass:"close-icon",on:{click:a.hideClearCacheDialog}},[a._v("×")])]),a._m(4),t("div",{staticClass:"dialog-footer"},[t("button",{staticClass:"cancel-btn",on:{click:a.hideClearCacheDialog}},[a._v("取消")]),t("button",{staticClass:"confirm-btn",on:{click:a.clearCache}},[a._v("确定清除")])])])]):a._e()])},e=[function(){var a=this,t=a._self._c;return t("div",{staticClass:"setting-left"},[t("i",{staticClass:"icon icon-wallpaper"}),t("span",[a._v("壁纸设置")])])},function(){var a=this,t=a._self._c;return t("div",{staticClass:"setting-left"},[t("i",{staticClass:"icon icon-clear"}),t("span",[a._v("清除缓存")])])},function(){var a=this,t=a._self._c;return t("div",{staticClass:"setting-left"},[t("i",{staticClass:"icon icon-about"}),t("span",[a._v("关于我们")])])},function(){var a=this,t=a._self._c;return t("div",{staticClass:"about-content"},[t("div",{staticClass:"logo-container"},[t("img",{staticClass:"app-logo",attrs:{src:s(4213),alt:"App Logo"}}),t("div",{staticClass:"logo-glow"})]),t("h4",[a._v("咸鱼李沐沐")]),t("p",{staticClass:"copyright"},[a._v("咸鱼号: xy333070315195")])])},function(){var a=this,t=a._self._c;return t("div",{staticClass:"dialog-content"},[t("p",[a._v("确定要清除所有本地缓存数据吗？此操作不可撤销。")])])}],i=(s(8111),s(7588),s(4603),s(7566),s(8721),s(3051)),c=s(6604),o=s(1977),r=s(6490),n={name:"setting",data(){return{showWallpaper:!1,showAbout:!1,showClearCacheConfirm:!1,showSecretEntry:!1,selectedWallpaper:this.$globalConfig.currentWallpaper||"",activeTab:"preset",customWallpaperUrl:"",wallpapers:[{name:"蜡笔小新",path:i},{name:"动画小镇",path:c},{name:"美味甜点",path:o},{name:"土拨鼠",path:r}],customWallpapers:JSON.parse(localStorage.getItem("customWallpapers")||"[]")}},methods:{goBack(){this.$goBackOrHome()},showWallpaperDialog(){this.showWallpaper=!0,this.selectedWallpaper=this.$globalConfig.currentWallpaper||""},hideWallpaperDialog(){this.showWallpaper=!1,this.customWallpaperUrl=""},showAboutDialog(){this.showAbout=!0},hideAboutDialog(){this.showAbout=!1},selectWallpaper(a){this.selectedWallpaper=a},confirmWallpaper(){var a=this;this.$globalConfig.currentWallpaper=this.selectedWallpaper;var t=JSON.parse(JSON.stringify(this.selectedWallpaper));this.wallpapers.forEach((function(s,l){s.path==a.selectedWallpaper&&(t=l)})),localStorage.setItem("Wallpapers",t),this.hideWallpaperDialog()},addCustomWallpaper(){if(this.customWallpaperUrl.trim()){try{new URL(this.customWallpaperUrl)}catch(a){return}this.customWallpapers.includes(this.customWallpaperUrl)||(this.customWallpapers.unshift(this.customWallpaperUrl),localStorage.setItem("customWallpapers",JSON.stringify(this.customWallpapers))),this.selectedWallpaper=this.customWallpaperUrl,this.customWallpaperUrl=""}},removeCustomWallpaper(a){this.customWallpapers.splice(a,1),localStorage.setItem("customWallpapers",JSON.stringify(this.customWallpapers)),this.selectedWallpaper===this.customWallpapers[a]&&(this.selectedWallpaper="")},arraysEqual(a,t){if(a.length!==t.length)return!1;for(let s=0;s<a.length;s++)if(a[s]!==t[s])return!1;return!0},showClearCacheDialog(){this.showClearCacheConfirm=!0},hideClearCacheDialog(){this.showClearCacheConfirm=!1},clearCache(){localStorage.clear(),this.$toast("清除成功","success"),this.hideClearCacheDialog()}}},p=n,u=s(1656),h=(0,u.A)(p,l,e,!1,null,"07641ee5",null),d=h.exports},4213:function(a,t,s){a.exports=s.p+"img/user.0989b8fe.jpg"},7588:function(a,t,s){var l=s(6518),e=s(2652),i=s(9306),c=s(8551),o=s(1767);l({target:"Iterator",proto:!0,real:!0},{forEach:function(a){c(this),i(a);var t=o(this),s=0;e(t,(function(t){a(t,s++)}),{IS_RECORD:!0})}})}}]);