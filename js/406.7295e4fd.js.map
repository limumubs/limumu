{"version":3,"file":"js/406.7295e4fd.js","mappings":"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","sources":["webpack://mumu/./node_modules/core-js/internals/iterator-map.js","webpack://mumu/./node_modules/core-js/modules/es.iterator.map.js","webpack://mumu/./src/views/mark.vue","webpack://mumu/./src/components/ImageMarker.vue","webpack://mumu/src/components/ImageMarker.vue","webpack://mumu/./src/components/ImageMarker.vue?e861","webpack://mumu/./src/components/ImageMarker.vue?5b48","webpack://mumu/src/views/mark.vue","webpack://mumu/./src/views/mark.vue?91c2","webpack://mumu/./src/views/mark.vue?8506","webpack://mumu/./node_modules/core-js/modules/es.iterator.for-each.js"],"sourcesContent":["'use strict';\nvar call = require('../internals/function-call');\nvar aCallable = require('../internals/a-callable');\nvar anObject = require('../internals/an-object');\nvar getIteratorDirect = require('../internals/get-iterator-direct');\nvar createIteratorProxy = require('../internals/iterator-create-proxy');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\n\nvar IteratorProxy = createIteratorProxy(function () {\n  var iterator = this.iterator;\n  var result = anObject(call(this.next, iterator));\n  var done = this.done = !!result.done;\n  if (!done) return callWithSafeIterationClosing(iterator, this.mapper, [result.value, this.counter++], true);\n});\n\n// `Iterator.prototype.map` method\n// https://github.com/tc39/proposal-iterator-helpers\nmodule.exports = function map(mapper) {\n  anObject(this);\n  aCallable(mapper);\n  return new IteratorProxy(getIteratorDirect(this), {\n    mapper: mapper\n  });\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar map = require('../internals/iterator-map');\nvar IS_PURE = require('../internals/is-pure');\n\n// `Iterator.prototype.map` method\n// https://tc39.es/ecma262/#sec-iterator.prototype.map\n$({ target: 'Iterator', proto: true, real: true, forced: IS_PURE }, {\n  map: map\n});\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"image-marker-app\"},[_c('header',{staticClass:\"header-bar\"},[_c('button',{staticClass:\"back-btn\",on:{\"click\":_vm.goBack}},[_c('svg',{attrs:{\"viewBox\":\"0 0 24 24\"}},[_c('path',{attrs:{\"d\":\"M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z\"}})])]),_c('h1',{staticClass:\"header-title\"},[_vm._v(\"图片标记工具\")]),_c('div',{staticClass:\"header-placeholder\"})]),_c('main',{staticClass:\"app-main\"},[(!_vm.imageData)?_c('div',{staticClass:\"upload-area\",on:{\"dragover\":function($event){$event.preventDefault();return _vm.dragOver.apply(null, arguments)},\"dragleave\":_vm.dragLeave,\"drop\":function($event){$event.preventDefault();return _vm.handleDrop.apply(null, arguments)}}},[_c('label',{staticClass:\"upload-label\",class:{ 'is-dragging': _vm.isDragging },on:{\"click\":function($event){_vm.v2==true?'':_vm.getIntent()}}},[(_vm.v2==true)?_c('input',{staticClass:\"upload-input\",attrs:{\"type\":\"file\",\"accept\":\"image/jpeg,image/png,image/webp\"},on:{\"change\":_vm.handleFileSelect}}):_vm._e(),_c('div',{staticClass:\"upload-content\"},[_c('svg',{staticClass:\"upload-icon\",attrs:{\"viewBox\":\"0 0 24 24\"}},[_c('path',{attrs:{\"d\":\"M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z M8,15V13H16V15H8M8,11V9H16V11H8M8,19V17H13V19H8Z\"}})]),_c('h3',{staticClass:\"upload-title\"},[_vm._v(\"选择或拖拽图片到此\")]),_c('p',{staticClass:\"upload-hint\"},[_vm._v(\"支持 JPG、PNG 或 WEBP 格式\")])])])]):_c('div',{staticClass:\"result-area\"},[_c('div',{staticClass:\"result-header\"},[_c('h3',[_vm._v(\"标记结果\")]),_c('button',{staticClass:\"clear-btn\",on:{\"click\":_vm.clearAll}},[_c('svg',{staticClass:\"clear-icon\",attrs:{\"viewBox\":\"0 0 24 24\"}},[_c('path',{attrs:{\"d\":\"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z\"}})]),_vm._v(\" 清除重新上传 \")])]),_c('div',{staticClass:\"result-image-container\",on:{\"click\":_vm.openPreview}},[_c('img',{staticClass:\"result-image\",attrs:{\"src\":_vm.markedImage,\"alt\":\"带标记的图片\"}})]),(_vm.coordinates.length > 0)?_c('div',{staticClass:\"coordinates-result\"},[_c('h4',[_vm._v(\"标记点坐标\")]),_c('div',{staticClass:\"coordinates-grid\"},_vm._l((_vm.coordinates),function(point,index){return _c('div',{key:index,staticClass:\"coordinate-item\"},[_c('span',{staticClass:\"point-indicator\",style:({ backgroundColor: _vm.pointColors[index] })}),_c('span',{staticClass:\"point-label\"},[_vm._v(\"点 \"+_vm._s(index + 1)+\":\")]),_c('span',{staticClass:\"point-coords\"},[_vm._v(\"(\"+_vm._s(Math.round(point.x))+\", \"+_vm._s(Math.round(point.y))+\")\")])])}),0)]):_vm._e()]),_c('transition',{attrs:{\"name\":\"modal\"}},[(_vm.showMarkerDialog)?_c('div',{staticClass:\"modal-mask\"},[_c('div',{staticClass:\"modal-wrapper\"},[_c('div',{staticClass:\"modal-container\"},[_c('div',{staticClass:\"modal-header\"},[_c('h3',[_vm._v(\"图片标记\")]),_c('button',{staticClass:\"modal-close\",on:{\"click\":_vm.closeDialog}},[_c('svg',{attrs:{\"viewBox\":\"0 0 24 24\"}},[_c('path',{attrs:{\"d\":\"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z\"}})])])]),_c('div',{staticClass:\"modal-body\"},[(_vm.showMarkerDialog)?_c('ImageMarker',{ref:\"marker\",attrs:{\"image-src\":_vm.imageData,\"max-points\":4},on:{\"points-confirmed\":_vm.handlePointsConfirmed,\"image-saved\":_vm.handleImageSaved,\"close\":_vm.closeDialog,\"error\":_vm.showNotification}}):_vm._e()],1)])])]):_vm._e()])],1),_c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.showPreview)?_c('div',{staticClass:\"preview-modal\",on:{\"click\":function($event){if($event.target !== $event.currentTarget)return null;return _vm.closePreview.apply(null, arguments)}}},[_c('div',{staticClass:\"preview-content\"},[_c('img',{staticClass:\"preview-image\",attrs:{\"src\":_vm.previewImage,\"alt\":\"预览图片\"}}),_c('button',{staticClass:\"preview-close\",on:{\"click\":_vm.closePreview}},[_c('svg',{attrs:{\"viewBox\":\"0 0 24 24\"}},[_c('path',{attrs:{\"d\":\"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z\"}})])])])]):_vm._e()]),_vm._m(0),_c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.showToast)?_c('div',{staticClass:\"toast\",class:_vm.toastType},[_c('svg',{staticClass:\"toast-icon\",attrs:{\"viewBox\":\"0 0 24 24\"}},[(_vm.toastType === 'success')?_c('path',{attrs:{\"d\":\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"}}):_vm._e(),(_vm.toastType === 'error')?_c('path',{attrs:{\"d\":\"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z\"}}):_vm._e()]),_c('span',{staticClass:\"toast-message\"},[_vm._v(_vm._s(_vm.toastMessage))])]):_vm._e()])],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('footer',{staticClass:\"app-footer\"},[_c('div',{staticClass:\"footer-note\"},[_c('p',[_vm._v(\"© 沐沐 图片标记工具\")])])])\n}]\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"image-marker\"},[_c('div',{staticClass:\"marker-header\"},[_c('div',{staticClass:\"points-counter\"},[_c('span',{staticClass:\"counter-badge\"},[_vm._v(_vm._s(_vm.points.length))]),_c('span',{staticClass:\"counter-text\"},[_vm._v(\"/\"+_vm._s(_vm.maxPoints)+\" 标记点\")])]),_c('div',{staticClass:\"marker-actions\"},[_c('button',{staticClass:\"action-btn remove-btn\",attrs:{\"disabled\":_vm.points.length === 0},on:{\"click\":_vm.removeLastPoint}},[_c('svg',{staticClass:\"action-icon\",attrs:{\"viewBox\":\"0 0 24 24\"}},[_c('path',{attrs:{\"d\":\"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z\"}})]),_vm._v(\" 删除 \")]),_c('button',{staticClass:\"action-btn reset-btn\",attrs:{\"disabled\":_vm.points.length === 0},on:{\"click\":_vm.resetPoints}},[_c('svg',{staticClass:\"action-icon\",attrs:{\"viewBox\":\"0 0 24 24\"}},[_c('path',{attrs:{\"d\":\"M12,5V1L7,6L12,11V7A6,6 0 0,1 18,13A6,6 0 0,1 12,19A6,6 0 0,1 6,13H4A8,8 0 0,0 12,21A8,8 0 0,0 20,13A8,8 0 0,0 12,5Z\"}})]),_vm._v(\" 重置 \")]),_c('button',{staticClass:\"action-btn confirm-btn\",attrs:{\"disabled\":_vm.points.length === 0},on:{\"click\":_vm.confirmAndSave}},[_c('svg',{staticClass:\"action-icon\",attrs:{\"viewBox\":\"0 0 24 24\"}},[_c('path',{attrs:{\"d\":\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"}})]),_vm._v(\" 完成 \")])])]),_c('div',{ref:\"imageContainer\",staticClass:\"image-container\"},[_c('img',{ref:\"image\",staticClass:\"marker-image\",attrs:{\"src\":_vm.imageSrc,\"draggable\":\"false\"},on:{\"load\":_vm.imageLoaded,\"click\":_vm.addPoint,\"touchstart\":function($event){$event.preventDefault();return _vm.handleTouchStart.apply(null, arguments)}}}),_vm._l((_vm.points),function(point,index){return _c('div',{key:index,staticClass:\"marker-point\",style:({\n        left: point.displayX + 'px',\n        top: point.displayY + 'px',\n        backgroundColor: _vm.pointColors[index] || '#3b82f6'\n      }),on:{\"mousedown\":function($event){return _vm.startDrag(index, $event)},\"touchstart\":function($event){return _vm.startDrag(index, $event)}}},[_c('span',{staticClass:\"point-number\"},[_vm._v(_vm._s(index + 1))])])})],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"image-marker\">\n    <div class=\"marker-header\">\n      <div class=\"points-counter\">\n        <span class=\"counter-badge\">{{ points.length }}</span>\n        <span class=\"counter-text\">/{{ maxPoints }} 标记点</span>\n      </div>\n      \n      <div class=\"marker-actions\">\n        <button \n          @click=\"removeLastPoint\" \n          class=\"action-btn remove-btn\"\n          :disabled=\"points.length === 0\"\n        >\n          <svg class=\"action-icon\" viewBox=\"0 0 24 24\">\n            <path d=\"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z\"/>\n          </svg>\n          删除\n        </button>\n        <button \n          @click=\"resetPoints\" \n          class=\"action-btn reset-btn\"\n          :disabled=\"points.length === 0\"\n        >\n          <svg class=\"action-icon\" viewBox=\"0 0 24 24\">\n            <path d=\"M12,5V1L7,6L12,11V7A6,6 0 0,1 18,13A6,6 0 0,1 12,19A6,6 0 0,1 6,13H4A8,8 0 0,0 12,21A8,8 0 0,0 20,13A8,8 0 0,0 12,5Z\"/>\n          </svg>\n          重置\n        </button>\n        <button \n          @click=\"confirmAndSave\" \n          class=\"action-btn confirm-btn\"\n          :disabled=\"points.length === 0\"\n        >\n          <svg class=\"action-icon\" viewBox=\"0 0 24 24\">\n            <path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"/>\n          </svg>\n          完成\n        </button>\n      </div>\n    </div>\n    \n    <div class=\"image-container\" ref=\"imageContainer\">\n      <img \n        :src=\"imageSrc\" \n        @load=\"imageLoaded\" \n        ref=\"image\"\n        @click=\"addPoint\"\n        @touchstart.prevent=\"handleTouchStart\"\n        draggable=\"false\"\n        class=\"marker-image\"\n      >\n      \n      <div \n        v-for=\"(point, index) in points\" \n        :key=\"index\"\n        class=\"marker-point\"\n        :style=\"{\n          left: point.displayX + 'px',\n          top: point.displayY + 'px',\n          backgroundColor: pointColors[index] || '#3b82f6'\n        }\"\n        @mousedown=\"startDrag(index, $event)\"\n        @touchstart=\"startDrag(index, $event)\"\n      >\n        <span class=\"point-number\">{{ index + 1 }}</span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'ImageMarker',\n  props: {\n    imageSrc: {\n      type: String,\n      required: true,\n      validator: value => value.startsWith('data:image/') || value.startsWith('blob:')\n    },\n    maxPoints: {\n      type: Number,\n      default: 4,\n      validator: value => value > 0\n    }\n  },\n  data() {\n    return {\n      points: [],\n      naturalSize: { width: 0, height: 0 },\n      isDragging: false,\n      dragIndex: null,\n      startX: 0,\n      startY: 0,\n      startPointX: 0,\n      startPointY: 0,\n      pointColors: [\n        '#3b82f6', '#10b981', '#f59e0b', '#ef4444',\n        '#8b5cf6', '#06b6d4', '#f97316', '#84cc16'\n      ],\n      resizeObserver: null\n    };\n  },\n  methods: {\n    // 精确计算图片显示区域\n    calculateDisplayRect() {\n      const img = this.$refs.image;\n      const container = this.$refs.imageContainer;\n      \n      const imgRect = img.getBoundingClientRect();\n      const containerRect = container.getBoundingClientRect();\n      const style = window.getComputedStyle(img);\n      \n      // 计算实际显示区域（考虑object-fit）\n      let x = imgRect.left - containerRect.left;\n      let y = imgRect.top - containerRect.top;\n      let width = imgRect.width;\n      let height = imgRect.height;\n      \n      if (style.objectFit === 'contain') {\n        const imgRatio = this.naturalSize.width / this.naturalSize.height;\n        const containerRatio = containerRect.width / containerRect.height;\n        \n        if (imgRatio > containerRatio) {\n          // 宽度填满，高度自适应\n          const scaledHeight = containerRect.width / imgRatio;\n          y = (containerRect.height - scaledHeight) / 2;\n          height = scaledHeight;\n        } else {\n          // 高度填满，宽度自适应\n          const scaledWidth = containerRect.height * imgRatio;\n          x = (containerRect.width - scaledWidth) / 2;\n          width = scaledWidth;\n        }\n      }\n      \n      return { x, y, width, height };\n    },\n    \n    async imageLoaded() {\n      try {\n        // 确保图片已完全加载\n        await this.ensureImageLoaded();\n        \n        // 获取图片原始尺寸\n        const img = this.$refs.image;\n        this.naturalSize = {\n          width: img.naturalWidth,\n          height: img.naturalHeight\n        };\n        \n        // 初始化尺寸监听\n        this.initResizeObserver();\n        \n      } catch (error) {\n        console.error('图片加载失败:', error);\n        this.$emit('error', '图片加载失败');\n      }\n    },\n    \n    async ensureImageLoaded() {\n      const img = this.$refs.image;\n      if (img.complete && img.naturalHeight !== 0) return;\n      \n      return new Promise((resolve, reject) => {\n        img.onload = resolve;\n        img.onerror = reject;\n        setTimeout(() => {\n          if (img.naturalHeight > 0) resolve();\n          else reject(new Error('图片加载超时'));\n        }, 1000);\n      });\n    },\n    \n    initResizeObserver() {\n      if (this.resizeObserver) {\n        this.resizeObserver.disconnect();\n      }\n      \n      this.resizeObserver = new ResizeObserver(() => {\n        this.recalculatePointsPosition();\n      });\n      \n      this.resizeObserver.observe(this.$refs.imageContainer);\n      this.resizeObserver.observe(this.$refs.image);\n    },\n    \n    handleTouchStart(e) {\n      this.touchStartTime = Date.now();\n      const touch = e.touches[0];\n      const now = Date.now();\n      \n      if (now - this.touchStartTime < 200) {\n        this.addPoint(touch);\n      }\n    },\n    \n    addPoint(event) {\n      if (this.points.length >= this.maxPoints) {\n        this.$emit('error', `最多只能标记 ${this.maxPoints} 个点`);\n        return;\n      }\n      \n      // 获取图片实际显示区域\n      const displayRect = this.calculateDisplayRect();\n      const containerRect = this.$refs.imageContainer.getBoundingClientRect();\n      \n      // 获取点击坐标（兼容触摸设备）\n      const clientX = event.clientX ?? event.touches[0].clientX;\n      const clientY = event.clientY ?? event.touches[0].clientY;\n      \n      // 计算相对于图片显示区域的坐标\n      const clickX = clientX - containerRect.left - displayRect.x;\n      const clickY = clientY - containerRect.top - displayRect.y;\n      \n      // 转换为原始图片坐标\n      const naturalX = (clickX / displayRect.width) * this.naturalSize.width;\n      const naturalY = (clickY / displayRect.height) * this.naturalSize.height;\n      \n      // 确保坐标在图片范围内\n      if (clickX < 0 || clickY < 0 || \n          clickX > displayRect.width || \n          clickY > displayRect.height) {\n        return;\n      }\n      \n      this.points.push({\n        displayX: clickX + displayRect.x,\n        displayY: clickY + displayRect.y,\n        naturalX,\n        naturalY\n      });\n      \n      this.$emit('points-updated', this.getNaturalPoints());\n    },\n    \n    startDrag(index, event) {\n      this.isDragging = true;\n      this.dragIndex = index;\n      \n      const clientX = event.clientX ?? event.touches[0].clientX;\n      const clientY = event.clientY ?? event.touches[0].clientY;\n      \n      this.startX = clientX;\n      this.startY = clientY;\n      this.startPointX = this.points[index].displayX;\n      this.startPointY = this.points[index].displayY;\n      \n      event.preventDefault();\n      \n      document.addEventListener('mousemove', this.dragPoint);\n      document.addEventListener('mouseup', this.stopDrag);\n      document.addEventListener('touchmove', this.dragPoint, { passive: false });\n      document.addEventListener('touchend', this.stopDrag);\n    },\n    \n    dragPoint(event) {\n      if (!this.isDragging) return;\n      \n      event.preventDefault();\n      \n      const displayRect = this.calculateDisplayRect();\n      const clientX = event.clientX ?? event.touches[0].clientX;\n      const clientY = event.clientY ?? event.touches[0].clientY;\n      const containerRect = this.$refs.imageContainer.getBoundingClientRect();\n      \n      const dx = clientX - this.startX;\n      const dy = clientY - this.startY;\n      \n      let newDisplayX = this.startPointX + dx;\n      let newDisplayY = this.startPointY + dy;\n      \n      // 限制点在图片显示范围内\n      newDisplayX = Math.max(displayRect.x, \n        Math.min(newDisplayX, displayRect.x + displayRect.width));\n      newDisplayY = Math.max(displayRect.y, \n        Math.min(newDisplayY, displayRect.y + displayRect.height));\n      \n      // 计算相对于显示区域的坐标\n      const relativeX = newDisplayX - displayRect.x;\n      const relativeY = newDisplayY - displayRect.y;\n      \n      // 转换为原始图片坐标\n      const naturalX = (relativeX / displayRect.width) * this.naturalSize.width;\n      const naturalY = (relativeY / displayRect.height) * this.naturalSize.height;\n      \n      this.$set(this.points, this.dragIndex, {\n        displayX: newDisplayX,\n        displayY: newDisplayY,\n        naturalX,\n        naturalY\n      });\n      \n      this.$emit('points-updated', this.getNaturalPoints());\n    },\n    \n    stopDrag() {\n      this.isDragging = false;\n      document.removeEventListener('mousemove', this.dragPoint);\n      document.removeEventListener('mouseup', this.stopDrag);\n      document.removeEventListener('touchmove', this.dragPoint);\n      document.removeEventListener('touchend', this.stopDrag);\n    },\n    \n    recalculatePointsPosition() {\n      const displayRect = this.calculateDisplayRect();\n      \n      this.points.forEach(point => {\n        point.displayX = (point.naturalX / this.naturalSize.width) * displayRect.width + displayRect.x;\n        point.displayY = (point.naturalY / this.naturalSize.height) * displayRect.height + displayRect.y;\n      });\n    },\n    \n    removeLastPoint() {\n      this.points.pop();\n      this.$emit('points-updated', this.getNaturalPoints());\n    },\n    \n    resetPoints() {\n      this.points = [];\n      this.$emit('points-updated', []);\n    },\n    \n    getNaturalPoints() {\n      return this.points.map(point => ({\n        x: Math.round(point.naturalX),\n        y: Math.round(point.naturalY)\n      }));\n    },\n    \n    async confirmAndSave() {\n      try {\n        const points = this.getNaturalPoints();\n        this.$emit('points-confirmed', points);\n        \n        const base64Image = await this.generateImageWithPoints();\n        this.$emit('image-saved', base64Image);\n        this.$emit('close');\n      } catch (error) {\n        console.error('保存失败:', error);\n        this.$emit('error', '生成带标记的图片失败');\n      }\n    },\n    \n    generateImageWithPoints() {\n      return new Promise((resolve) => {\n        const canvas = document.createElement('canvas');\n        canvas.width = this.naturalSize.width;\n        canvas.height = this.naturalSize.height;\n        \n        const ctx = canvas.getContext('2d');\n        const img = new Image();\n        \n        img.onload = () => {\n          // 1:1绘制原始图片\n          ctx.drawImage(img, 0, 0, canvas.width, canvas.height);\n          \n          // 绘制标记点\n          this.points.forEach((point, index) => {\n            const pointSize = Math.max(\n              8, // 最小8像素\n              Math.min(canvas.width, canvas.height) * 0.015\n            );\n            \n            // 绘制圆形\n            ctx.beginPath();\n            ctx.arc(\n              point.naturalX,\n              point.naturalY,\n              pointSize,\n              0,\n              Math.PI * 2\n            );\n            ctx.fillStyle = this.pointColors[index];\n            ctx.fill();\n            \n            // 绘制数字\n            const fontSize = Math.max(12, pointSize * 0.7);\n            ctx.font = `bold ${fontSize}px Arial`;\n            ctx.textAlign = 'center';\n            ctx.textBaseline = 'middle';\n            ctx.fillStyle = 'white';\n            ctx.fillText((index + 1).toString(), point.naturalX, point.naturalY);\n          });\n          \n          resolve(canvas.toDataURL('image/png', 1.0));\n        };\n        \n        img.onerror = () => {\n          throw new Error('图片加载失败');\n        };\n        img.src = this.imageSrc;\n      });\n    }\n  },\n  beforeDestroy() {\n    if (this.resizeObserver) {\n      this.resizeObserver.disconnect();\n    }\n  }\n};\n</script>\n\n<style scoped>\n.image-marker {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n\n.marker-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1rem;\n  flex-shrink: 0;\n}\n\n.points-counter {\n  display: flex;\n  align-items: center;\n  font-size: 0.875rem;\n  font-weight: 500;\n  color: #64748b;\n}\n\n.counter-badge {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  min-width: 1.75rem;\n  height: 1.75rem;\n  background-color: #3b82f6;\n  color: white;\n  border-radius: 9999px;\n  padding: 0 0.5rem;\n  margin-right: 0.5rem;\n  font-weight: 600;\n}\n\n.counter-text {\n  white-space: nowrap;\n}\n\n.marker-actions {\n  display: flex;\n  gap: 0.5rem;\n}\n\n.action-btn {\n  display: flex;\n  align-items: center;\n  gap: 0.375rem;\n  padding: 0.5rem 0.75rem;\n  border-radius: 0.375rem;\n  font-size: 0.8125rem;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s;\n  border: none;\n}\n\n.action-btn:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n.action-icon {\n  width: 1rem;\n  height: 1rem;\n  fill: currentColor;\n}\n\n.remove-btn {\n  background-color: #fee2e2;\n  color: #dc2626;\n}\n\n.remove-btn:not(:disabled):hover {\n  background-color: #fecaca;\n}\n\n.reset-btn {\n  background-color: #e0f2fe;\n  color: #0369a1;\n}\n\n.reset-btn:not(:disabled):hover {\n  background-color: #bae6fd;\n}\n\n.confirm-btn {\n  background-color: #dcfce7;\n  color: #166534;\n}\n\n.confirm-btn:not(:disabled):hover {\n  background-color: #bbf7d0;\n}\n\n.image-container {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n  overflow: hidden;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  min-height: 0;\n  min-width: 0;\n}\n\n.marker-image {\n  max-width: 100%;\n  max-height: 100%;\n  width: auto;\n  height: auto;\n  object-fit: contain;\n  margin: 0;\n  padding: 0;\n  border: none;\n  display: block;\n}\n\n.marker-point {\n  position: absolute;\n  width: 24px;\n  height: 24px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transform: translate(-50%, -50%);\n  cursor: move;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\n  transition: transform 0.1s, box-shadow 0.1s;\n  user-select: none;\n  -webkit-user-select: none;\n}\n\n.marker-point:hover {\n  transform: translate(-50%, -50%) scale(1.1);\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n}\n\n.point-number {\n  color: white;\n  font-weight: bold;\n  font-size: 12px;\n}\n\n@media (max-width: 640px) {\n  .marker-header {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 0.75rem;\n  }\n  \n  .marker-actions {\n    width: 100%;\n    overflow-x: auto;\n    padding-bottom: 0.5rem;\n  }\n  \n  .action-btn {\n    flex-shrink: 0;\n  }\n}\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ImageMarker.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ImageMarker.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ImageMarker.vue?vue&type=template&id=5c2af6e8&scoped=true\"\nimport script from \"./ImageMarker.vue?vue&type=script&lang=js\"\nexport * from \"./ImageMarker.vue?vue&type=script&lang=js\"\nimport style0 from \"./ImageMarker.vue?vue&type=style&index=0&id=5c2af6e8&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5c2af6e8\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"image-marker-app\">\n    <!-- 应用头部 - 替换为奥丁神叛样式 -->\n    <header class=\"header-bar\">\n      <button class=\"back-btn\" @click=\"goBack\">\n        <svg viewBox=\"0 0 24 24\">\n          <path d=\"M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z\"/>\n        </svg>\n      </button>\n      <h1 class=\"header-title\">图片标记工具</h1>\n      <div class=\"header-placeholder\"></div>\n    </header>\n\n    <!-- 主内容区 -->\n    <main class=\"app-main\">\n      <!-- 上传区域 - 初始状态显示 -->\n      <div v-if=\"!imageData\" class=\"upload-area\" @dragover.prevent=\"dragOver\" @dragleave=\"dragLeave\" @drop.prevent=\"handleDrop\">\n        <label class=\"upload-label\" :class=\"{ 'is-dragging': isDragging }\" @click=\"v2==true?'':getIntent()\">\n          <input \r\n            v-if=\"v2==true\"\n            type=\"file\" \n            accept=\"image/jpeg,image/png,image/webp\" \n            @change=\"handleFileSelect\"\n            class=\"upload-input\"\n          >\n          <div class=\"upload-content\">\n            <svg class=\"upload-icon\" viewBox=\"0 0 24 24\">\n              <path d=\"M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z M8,15V13H16V15H8M8,11V9H16V11H8M8,19V17H13V19H8Z\"/>\n            </svg>\n            <h3 class=\"upload-title\">选择或拖拽图片到此</h3>\n            <p class=\"upload-hint\">支持 JPG、PNG 或 WEBP 格式</p>\n          </div>\n        </label>\n      </div>\n\n      <!-- 标记结果区域 - 上传后显示 -->\n      <div v-else class=\"result-area\">\n        <div class=\"result-header\">\n          <h3>标记结果</h3>\n          <button @click=\"clearAll\" class=\"clear-btn\">\n            <svg class=\"clear-icon\" viewBox=\"0 0 24 24\">\n              <path d=\"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z\"/>\n            </svg>\n            清除重新上传\n          </button>\n        </div>\n        \n        <!-- 可点击放大的图片容器 -->\n        <div class=\"result-image-container\" @click=\"openPreview\">\n          <img :src=\"markedImage\" class=\"result-image\" alt=\"带标记的图片\">\n        </div>\n        \n        <div v-if=\"coordinates.length > 0\" class=\"coordinates-result\">\n          <h4>标记点坐标</h4>\n          <div class=\"coordinates-grid\">\n            <div v-for=\"(point, index) in coordinates\" :key=\"index\" class=\"coordinate-item\">\n              <span class=\"point-indicator\" :style=\"{ backgroundColor: pointColors[index] }\"></span>\n              <span class=\"point-label\">点 {{ index + 1 }}:</span>\n              <span class=\"point-coords\">({{ Math.round(point.x) }}, {{ Math.round(point.y) }})</span>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- 标记弹框 -->\n      <transition name=\"modal\">\n        <div v-if=\"showMarkerDialog\" class=\"modal-mask\">\n          <div class=\"modal-wrapper\">\n            <div class=\"modal-container\">\n              <div class=\"modal-header\">\n                <h3>图片标记</h3>\n                <button class=\"modal-close\" @click=\"closeDialog\">\n                  <svg viewBox=\"0 0 24 24\">\n                    <path d=\"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z\"/>\n                  </svg>\n                </button>\n              </div>\n              <div class=\"modal-body\">\n                <ImageMarker\n                  v-if=\"showMarkerDialog\"\n                  ref=\"marker\"\n                  :image-src=\"imageData\"\n                  :max-points=\"4\"\n                  @points-confirmed=\"handlePointsConfirmed\"\n                  @image-saved=\"handleImageSaved\"\n                  @close=\"closeDialog\"\n                  @error=\"showNotification\"\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      </transition>\n    </main>\n\n    <!-- 图片预览弹窗 -->\n    <transition name=\"fade\">\n      <div v-if=\"showPreview\" class=\"preview-modal\" @click.self=\"closePreview\">\n        <div class=\"preview-content\">\n          <img :src=\"previewImage\" class=\"preview-image\" alt=\"预览图片\">\n          <button class=\"preview-close\" @click=\"closePreview\">\n            <svg viewBox=\"0 0 24 24\">\n              <path d=\"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z\"/>\n            </svg>\n          </button>\n        </div>\n      </div>\n    </transition>\n\n    <!-- 应用页脚 -->\n    <footer class=\"app-footer\">\n      <div class=\"footer-note\">\n        <p>© 沐沐 图片标记工具</p>\n      </div>\n    </footer>\n\n    <!-- 通知提示 -->\n    <transition name=\"fade\">\n      <div v-if=\"showToast\" class=\"toast\" :class=\"toastType\">\n        <svg class=\"toast-icon\" viewBox=\"0 0 24 24\">\n          <path v-if=\"toastType === 'success'\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"/>\n          <path v-if=\"toastType === 'error'\" d=\"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z\"/>\n        </svg>\n        <span class=\"toast-message\">{{ toastMessage }}</span>\n      </div>\n    </transition>\n  </div>\n</template>\n\n<script>\nimport ImageMarker from '@/components/ImageMarker.vue';\n\nexport default {\n  name: 'ImageMarkerTool',\n  components: {\n    ImageMarker\n  },\n  data() {\n    return {\r\n      v2: this.$globalConfig.v2,\n      imageData: '',\n      markedImage: '',\n      coordinates: [],\n      showMarkerDialog: false,\n      isDragging: false,\n      showToast: false,\n      toastMessage: '',\n      toastType: 'success',\n      pointColors: [\n        '#3b82f6', '#10b981', '#f59e0b', '#ef4444',\n        '#8b5cf6', '#06b6d4', '#f97316', '#84cc16'\n      ],\n      showPreview: false,\n      previewImage: ''\n    };\n  },\r\n  mounted() {\r\n    if(this.v2!=true) {\r\n      window.handleImageResult = this.handleAutoJsCall;\r\n    }\r\n  },\n  methods: {\n    goBack() {\n      this.$goBackOrHome()\n    },\n    \n    // 图片预览功能\n    openPreview() {\n      if (this.markedImage) {\n        this.previewImage = this.markedImage;\n        this.showPreview = true;\n        document.body.style.overflow = 'hidden';\n      }\n    },\n    \n    closePreview() {\n      this.showPreview = false;\n      document.body.style.overflow = '';\n    },\n\n    // 文件处理\n    handleFileSelect(event) {\n      const file = event.target.files[0];\n      if (file) this.processImageFile(file);\n    },\n    \n    handleDrop(event) {\n      this.isDragging = false;\n      const file = event.dataTransfer.files[0];\n      if (file) this.processImageFile(file);\n    },\n    \n    dragOver() {\n      this.isDragging = true;\n    },\n    \n    dragLeave() {\n      this.isDragging = false;\n    },\n    \n    processImageFile(file) {\n      if (!file.type.match(/image\\/(jpeg|png|webp)/)) {\n        this.showNotification('请选择JPG、PNG或WEBP格式的图片', 'error');\n        return;\n      }\n      \n      if (file.size > 5 * 1024 * 1024) {\n        this.showNotification('图片大小不能超过5MB', 'error');\n        return;\n      }\n      \n      const reader = new FileReader();\n      reader.onload = (e) => {\n        this.imageData = e.target.result;\n        this.showMarkerDialog = true;\n      };\n      reader.onerror = () => {\n        this.showNotification('图片加载失败', 'error');\n      };\n      reader.readAsDataURL(file);\n    },\r\n    \r\n    // 调用 Autox\r\n    getIntent() {\r\n      window.Android.invoke('bitmapIntent', { msg: '打开文件选择器' }, (data) => {})\r\n    },\r\n    // Autox回调\r\n    handleAutoJsCall(data) {\r\n      if(data.code == 200) {\r\n        this.imageData = data.base64;\r\n        this.showMarkerDialog = true;\r\n      }\r\n    },\n    \n    // 标记点处理\n    handlePointsConfirmed(points) {\n      this.coordinates = points.map(p => ({\n        x: Math.round(p.x),\n        y: Math.round(p.y)\n      }));\n    },\n    \n    handleImageSaved(base64Image) {\n      this.markedImage = base64Image;\n      this.closeDialog();\n      this.showNotification('标记完成', 'success');\n    },\n    \n    // 弹窗控制\n    closeDialog() {\n      this.showMarkerDialog = false;\n    },\n    \n    clearAll() {\n      this.imageData = '';\n      this.markedImage = '';\n      this.coordinates = [];\n      this.previewImage = '';\n    },\n    \n    // 通知提示\n    showNotification(message, type = 'success') {\n      this.toastMessage = message;\n      this.toastType = type;\n      this.showToast = true;\n      \n      setTimeout(() => {\n        this.showToast = false;\n      }, 3000);\n    }\n  }\n};\n</script>\n\n<style scoped>\n.image-marker-app {\n  max-width: 100%;\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n  background-color: #f5f5f5;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;\n  color: #333;\n}\n\n/* 顶部标题栏 - 奥丁神叛样式 */\n.header-bar {\n  position: sticky;\n  top: 0;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 12px 16px;\n  background-color: #fff;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n  z-index: 100;\n}\n\n.back-btn {\n  background: none;\n  border: none;\n  padding: 8px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n}\n\n.back-btn svg {\n  width: 24px;\n  height: 24px;\n  fill: #333;\n}\n\n.header-title {\n  font-size: 18px;\n  font-weight: 500;\n  margin: 0;\n}\n\n.header-placeholder {\n  width: 40px;\n}\n\n.app-main {\n  flex: 1;\n  padding: 1.5rem;\n  max-width: 800px;\n  margin: 0 auto;\n  width: 100%;\n  box-sizing: border-box;\n}\n\n.upload-area {\n  margin-bottom: 2rem;\n}\n\n.upload-label {\n  display: block;\n  border: 2px dashed #cbd5e1;\n  border-radius: 0.75rem;\n  padding: 2.5rem;\n  text-align: center;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  background-color: #ffffff;\n}\n\n.upload-label.is-dragging {\n  border-color: #3b82f6;\n  background-color: #f0f7ff;\n}\n\n.upload-input {\n  display: none;\n}\n\n.upload-content {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n.upload-icon {\n  width: 3rem;\n  height: 3rem;\n  margin-bottom: 1rem;\n  fill: #94a3b8;\n  transition: fill 0.2s;\n}\n\n.upload-label:hover .upload-icon,\n.upload-label.is-dragging .upload-icon {\n  fill: #3b82f6;\n}\n\n.upload-title {\n  font-size: 1.25rem;\n  font-weight: 600;\n  margin: 0 0 0.5rem;\n  color: #1e293b;\n}\n\n.upload-hint {\n  font-size: 0.875rem;\n  color: #64748b;\n  margin: 0.25rem 0;\n}\n\n/* 结果区域 */\n.result-area {\n  width: 100%;\n}\n\n.result-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1rem;\n}\n\n.result-header h3 {\n  margin: 0;\n  font-size: 1.25rem;\n  color: #1e293b;\n}\n\n.clear-btn {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.5rem 1rem;\n  background-color: #fee2e2;\n  color: #dc2626;\n  border: none;\n  border-radius: 0.5rem;\n  font-size: 0.875rem;\n  font-weight: 500;\n  cursor: pointer;\n  transition: background-color 0.2s;\n}\n\n.clear-btn:hover {\n  background-color: #fecaca;\n}\n\n.clear-icon {\n  width: 1rem;\n  height: 1rem;\n  fill: currentColor;\n}\n\n.result-image-container {\n  cursor: zoom-in;\n  margin-bottom: 1.5rem;\n  border-radius: 0.5rem;\n  overflow: hidden;\n  border: 1px solid #e2e8f0;\n  background-color: #f8fafc;\n  transition: transform 0.2s;\n}\n\n.result-image-container:hover {\n  transform: scale(1.01);\n}\n\n.result-image {\n  display: block;\n  width: 100%;\n  height: auto;\n  max-height: 60vh;\n  object-fit: contain;\n}\n\n.coordinates-result {\n  margin-top: 1.5rem;\n  padding-top: 1.5rem;\n  border-top: 1px solid #e2e8f0;\n}\n\n.coordinates-result h4 {\n  font-size: 1rem;\n  font-weight: 600;\n  margin: 0 0 1rem;\n  color: #1e293b;\n}\n\n.coordinates-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n  gap: 0.75rem;\n}\n\n.coordinate-item {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.5rem;\n  background-color: #f8fafc;\n  border-radius: 0.375rem;\n  font-size: 0.875rem;\n}\n\n.point-indicator {\n  width: 0.75rem;\n  height: 0.75rem;\n  border-radius: 50%;\n  flex-shrink: 0;\n}\n\n.point-label {\n  font-weight: 500;\n  color: #334155;\n  flex-shrink: 0;\n}\n\n.point-coords {\n  color: #64748b;\n  font-family: monospace;\n}\n\n/* 图片预览样式 */\n.preview-modal {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.8);\n  z-index: 1000;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.preview-content {\n  position: relative;\n  max-width: 90%;\n  max-height: 90%;\n}\n\n.preview-image {\n  max-width: 100%;\n  max-height: 80vh;\n  object-fit: contain;\n  box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);\n}\n\n.preview-close {\n  position: absolute;\n  top: -40px;\n  right: 0;\n  background: none;\n  border: none;\n  color: white;\n  cursor: pointer;\n  padding: 0.5rem;\n}\n\n.preview-close svg {\n  width: 24px;\n  height: 24px;\n  fill: currentColor;\n}\n\n/* 弹框样式 */\n.modal-mask {\n  position: fixed;\n  z-index: 9998;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  transition: opacity 0.3s ease;\n}\n\n.modal-wrapper {\n  width: 100%;\n  max-width: 800px;\n  padding: 0 1rem;\n}\n\n.modal-container {\n  width: 100%;\n  background-color: #fff;\n  border-radius: 0.5rem;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.33);\n  transition: all 0.3s ease;\n  max-height: 90vh;\n  display: flex;\n  flex-direction: column;\n}\n\n.modal-header {\n  padding: 1rem 1.5rem;\n  border-bottom: 1px solid #e2e8f0;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.modal-header h3 {\n  margin: 0;\n  font-size: 1.25rem;\n  color: #1e293b;\n}\n\n.modal-close {\n  background: none;\n  border: none;\n  padding: 0.5rem;\n  cursor: pointer;\n  color: #64748b;\n  transition: color 0.2s;\n}\n\n.modal-close:hover {\n  color: #334155;\n}\n\n.modal-close svg {\n  width: 1.25rem;\n  height: 1.25rem;\n  fill: currentColor;\n}\n\n.modal-body {\n  flex: 1;\n  overflow-y: auto;\n  padding: 1.5rem;\n}\n\n.app-footer {\n  background-color: #ffffff;\n  padding: 1.5rem;\n  border-top: 1px solid #e2e8f0;\n  text-align: center;\n}\n\n.footer-note {\n  font-size: 0.75rem;\n  color: #94a3b8;\n}\n\n/* 通知样式 */\n.toast {\n  position: fixed;\n  bottom: 1.5rem;\n  left: 50%;\n  transform: translateX(-50%);\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.75rem 1.25rem;\n  border-radius: 0.5rem;\n  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);\n  z-index: 50;\n  font-size: 0.875rem;\n  font-weight: 500;\n}\n\n.toast.success {\n  background-color: #ecfdf5;\n  color: #065f46;\n}\n\n.toast.error {\n  background-color: #fef2f2;\n  color: #b91c1c;\n}\n\n.toast-icon {\n  width: 1.25rem;\n  height: 1.25rem;\n  flex-shrink: 0;\n}\n\n.toast-message {\n  white-space: nowrap;\n}\n\n/* 过渡动画 */\n.modal-enter-active, .modal-leave-active {\n  transition: opacity 0.3s;\n}\n.modal-enter, .modal-leave-to {\n  opacity: 0;\n}\n\n.modal-enter-active .modal-container,\n.modal-leave-active .modal-container {\n  transition: transform 0.3s;\n}\n\n.modal-enter .modal-container,\n.modal-leave-to .modal-container {\n  transform: scale(0.95);\n}\n\n.fade-enter-active, .fade-leave-active {\n  transition: opacity 0.2s ease;\n}\n\n.fade-enter, .fade-leave-to {\n  opacity: 0;\n}\n\n/* 响应式设计 */\n@media (max-width: 640px) {\n  .header-bar {\n    padding: 12px 16px;\n  }\n  \n  .header-title {\n    font-size: 18px;\n  }\n  \n  .upload-label {\n    padding: 1.5rem;\n  }\n  \n  .modal-wrapper {\n    padding: 0;\n  }\n  \n  .modal-container {\n    max-height: 100vh;\n    height: 100vh;\n    border-radius: 0;\n  }\n  \n  .coordinates-grid {\n    grid-template-columns: 1fr;\n  }\n  \n  .preview-content {\n    max-width: 95%;\n    max-height: 95%;\n  }\n  \n  .preview-close {\n    top: -50px;\n    right: -10px;\n  }\n}\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./mark.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./mark.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./mark.vue?vue&type=template&id=d6ef344c&scoped=true\"\nimport script from \"./mark.vue?vue&type=script&lang=js\"\nexport * from \"./mark.vue?vue&type=script&lang=js\"\nimport style0 from \"./mark.vue?vue&type=style&index=0&id=d6ef344c&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d6ef344c\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar iterate = require('../internals/iterate');\nvar aCallable = require('../internals/a-callable');\nvar anObject = require('../internals/an-object');\nvar getIteratorDirect = require('../internals/get-iterator-direct');\n\n// `Iterator.prototype.forEach` method\n// https://tc39.es/ecma262/#sec-iterator.prototype.foreach\n$({ target: 'Iterator', proto: true, real: true }, {\n  forEach: function forEach(fn) {\n    anObject(this);\n    aCallable(fn);\n    var record = getIteratorDirect(this);\n    var counter = 0;\n    iterate(record, function (value) {\n      fn(value, counter++);\n    }, { IS_RECORD: true });\n  }\n});\n"],"names":["call","aCallable","anObject","getIteratorDirect","createIteratorProxy","callWithSafeIterationClosing","IteratorProxy","iterator","this","result","next","done","mapper","value","counter","module","exports","$","map","IS_PURE","target","proto","real","forced","render","_vm","_c","_self","staticClass","on","goBack","attrs","_v","imageData","clearAll","openPreview","markedImage","coordinates","length","_l","point","index","key","style","backgroundColor","pointColors","_s","Math","round","x","y","_e","$event","preventDefault","dragOver","apply","arguments","dragLeave","handleDrop","class","isDragging","v2","getIntent","handleFileSelect","showMarkerDialog","closeDialog","ref","handlePointsConfirmed","handleImageSaved","showNotification","showPreview","currentTarget","closePreview","previewImage","_m","showToast","toastType","toastMessage","staticRenderFns","points","maxPoints","removeLastPoint","resetPoints","confirmAndSave","imageSrc","imageLoaded","addPoint","handleTouchStart","left","displayX","top","displayY","startDrag","name","props","type","String","required","validator","startsWith","Number","default","data","naturalSize","width","height","dragIndex","startX","startY","startPointX","startPointY","resizeObserver","methods","calculateDisplayRect","img","$refs","image","container","imageContainer","imgRect","getBoundingClientRect","containerRect","window","getComputedStyle","objectFit","imgRatio","containerRatio","scaledHeight","scaledWidth","ensureImageLoaded","naturalWidth","naturalHeight","initResizeObserver","error","console","$emit","complete","Promise","resolve","reject","onload","onerror","setTimeout","Error","disconnect","ResizeObserver","recalculatePointsPosition","observe","e","touchStartTime","Date","now","touch","touches","event","displayRect","clientX","clientY","clickX","clickY","naturalX","naturalY","push","getNaturalPoints","document","addEventListener","dragPoint","stopDrag","passive","dx","dy","newDisplayX","newDisplayY","max","min","relativeX","relativeY","$set","removeEventListener","forEach","pop","base64Image","generateImageWithPoints","canvas","createElement","ctx","getContext","Image","drawImage","pointSize","beginPath","arc","PI","fillStyle","fill","fontSize","font","textAlign","textBaseline","fillText","toString","toDataURL","src","beforeDestroy","component","components","ImageMarker","$globalConfig","mounted","handleImageResult","handleAutoJsCall","$goBackOrHome","body","overflow","file","files","processImageFile","dataTransfer","match","size","reader","FileReader","readAsDataURL","Android","invoke","msg","code","base64","p","message","iterate","fn","record","IS_RECORD"],"sourceRoot":""}