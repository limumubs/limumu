"use strict";(self["webpackChunkmumu"]=self["webpackChunkmumu"]||[]).push([[568],{655:function(a,t,e){var s=e(6955),l=String;a.exports=function(a){if("Symbol"===s(a))throw new TypeError("Cannot convert a Symbol value to a string");return l(a)}},2812:function(a){var t=TypeError;a.exports=function(a,e){if(a<e)throw new t("Not enough arguments");return a}},3568:function(a,t,e){e.r(t),e.d(t,{default:function(){return v}});var s=function(){var a=this,t=a._self._c;return t("div",{staticClass:"settings-page"},[t("header",{staticClass:"header-bar"},[t("button",{staticClass:"back-btn",on:{click:a.goBack}},[t("svg",{attrs:{viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z"}})])]),t("h1",{staticClass:"header-title"},[a._v("设置")]),t("div",{staticClass:"header-placeholder"})]),t("div",{staticClass:"settings-list"},[t("div",{staticClass:"setting-item",on:{click:a.showWallpaperDialog}},[a._m(0),t("div",{staticClass:"setting-right"},[a.$globalConfig.currentWallpaper?t("span",{staticClass:"current-wallpaper"},[a._v("已设置")]):a._e(),t("i",{staticClass:"arrow"})])]),t("div",{staticClass:"setting-item",on:{click:a.showClearCacheDialog}},[a._m(1),t("i",{staticClass:"arrow"})]),t("div",{staticClass:"setting-item",on:{click:a.showAboutDialog}},[a._m(2),t("i",{staticClass:"arrow"})])]),a.showWallpaper?t("div",{staticClass:"dialog-mask",on:{click:a.hideWallpaperDialog}},[t("div",{staticClass:"wallpaper-dialog",on:{click:function(a){a.stopPropagation()}}},[t("div",{staticClass:"dialog-header"},[t("h3",[a._v("选择壁纸")]),t("i",{staticClass:"close-icon",on:{click:a.hideWallpaperDialog}},[a._v("×")])]),t("div",{staticClass:"wallpaper-tabs"},[t("button",{staticClass:"tab-btn",class:{active:"preset"===a.activeTab},on:{click:function(t){a.activeTab="preset"}}},[a._v(" 预设壁纸 ")]),t("button",{staticClass:"tab-btn",class:{active:"custom"===a.activeTab},on:{click:function(t){a.activeTab="custom"}}},[a._v(" 自定义壁纸 ")])]),t("div",{directives:[{name:"show",rawName:"v-show",value:"preset"===a.activeTab,expression:"activeTab === 'preset'"}],staticClass:"wallpaper-container"},a._l(a.wallpapers,(function(e,s){return t("div",{key:s,staticClass:"wallpaper-item",class:{selected:a.selectedWallpaper===e.path},on:{click:function(t){return a.selectWallpaper(e.path)}}},[t("img",{attrs:{src:e.path,alt:e.name}}),t("div",{staticClass:"wallpaper-name"},[a._v(a._s(e.name))]),a.selectedWallpaper===e.path?t("div",{staticClass:"checkmark"},[a._v("✓")]):a._e()])})),0),t("div",{directives:[{name:"show",rawName:"v-show",value:"custom"===a.activeTab,expression:"activeTab === 'custom'"}],staticClass:"custom-wallpaper-container"},[t("div",{staticClass:"url-input-container"},[t("input",{directives:[{name:"model",rawName:"v-model",value:a.customWallpaperUrl,expression:"customWallpaperUrl"}],staticClass:"url-input",attrs:{type:"text",placeholder:"输入壁纸网络地址"},domProps:{value:a.customWallpaperUrl},on:{keyup:function(t){return!t.type.indexOf("key")&&a._k(t.keyCode,"enter",13,t.key,"Enter")?null:a.addCustomWallpaper.apply(null,arguments)},input:function(t){t.target.composing||(a.customWallpaperUrl=t.target.value)}}}),t("button",{staticClass:"add-btn",on:{click:a.addCustomWallpaper}},[a._v("添加")])]),t("div",{staticClass:"wallpaper-container"},a._l(a.customWallpapers,(function(e,s){return t("div",{key:"custom-"+s,staticClass:"wallpaper-item",class:{selected:a.selectedWallpaper===e},on:{click:function(t){return a.selectWallpaper(e)}}},[t("img",{attrs:{src:e,alt:"自定义壁纸"}}),a.selectedWallpaper===e?t("div",{staticClass:"checkmark"},[a._v("✓")]):a._e(),t("button",{staticClass:"delete-btn",on:{click:function(t){return t.stopPropagation(),a.removeCustomWallpaper(s)}}},[a._v("×")])])})),0)]),t("div",{staticClass:"dialog-footer"},[t("button",{staticClass:"cancel-btn",on:{click:a.hideWallpaperDialog}},[a._v("取消")]),t("button",{staticClass:"confirm-btn",on:{click:a.confirmWallpaper}},[a._v("确定")])])])]):a._e(),a.showAbout?t("div",{staticClass:"dialog-mask",on:{click:a.hideAboutDialog}},[t("div",{staticClass:"about-dialog",on:{click:function(a){a.stopPropagation()}}},[t("div",{staticClass:"dialog-header"},[t("h3",[a._v("关于我们")]),t("i",{staticClass:"close-icon",on:{click:a.hideAboutDialog}},[a._v("×")])]),a._m(3),t("div",{staticClass:"dialog-footer"},[t("button",{staticClass:"confirm-btn",on:{click:a.hideAboutDialog}},[a._v("我知道了")])])])]):a._e(),a.showClearCacheConfirm?t("div",{staticClass:"dialog-mask",on:{click:a.hideClearCacheDialog}},[t("div",{staticClass:"confirm-dialog",on:{click:function(a){a.stopPropagation()}}},[t("div",{staticClass:"dialog-header"},[t("h3",[a._v("清除缓存")]),t("i",{staticClass:"close-icon",on:{click:a.hideClearCacheDialog}},[a._v("×")])]),a._m(4),t("div",{staticClass:"dialog-footer"},[t("button",{staticClass:"cancel-btn",on:{click:a.hideClearCacheDialog}},[a._v("取消")]),t("button",{staticClass:"confirm-btn",on:{click:a.clearCache}},[a._v("确定清除")])])])]):a._e()])},l=[function(){var a=this,t=a._self._c;return t("div",{staticClass:"setting-left"},[t("i",{staticClass:"icon icon-wallpaper"}),t("span",[a._v("壁纸设置")])])},function(){var a=this,t=a._self._c;return t("div",{staticClass:"setting-left"},[t("i",{staticClass:"icon icon-clear"}),t("span",[a._v("清除缓存")])])},function(){var a=this,t=a._self._c;return t("div",{staticClass:"setting-left"},[t("i",{staticClass:"icon icon-about"}),t("span",[a._v("关于我们")])])},function(){var a=this,t=a._self._c;return t("div",{staticClass:"about-content"},[t("div",{staticClass:"logo-container"},[t("img",{staticClass:"app-logo",attrs:{src:e(4213),alt:"App Logo"}}),t("div",{staticClass:"logo-glow"})]),t("h4",[a._v("咸鱼李沐沐")]),t("p",{staticClass:"copyright"},[a._v("咸鱼号: xy333070315195")])])},function(){var a=this,t=a._self._c;return t("div",{staticClass:"dialog-content"},[t("p",[a._v("确定要清除所有本地缓存数据吗？此操作不可撤销。")])])}],i=(e(8111),e(7588),e(4603),e(7566),e(8721),e(3051)),r=e(6604),o=e(1977),c=e(6490),n={name:"setting",data(){return{showWallpaper:!1,showAbout:!1,showClearCacheConfirm:!1,showSecretEntry:!1,selectedWallpaper:this.$globalConfig.currentWallpaper||"",activeTab:"preset",customWallpaperUrl:"",wallpapers:[{name:"蜡笔小新",path:i},{name:"动画小镇",path:r},{name:"美味甜点",path:o},{name:"土拨鼠",path:c}],customWallpapers:JSON.parse(localStorage.getItem("customWallpapers")||"[]")}},methods:{goBack(){this.$goBackOrHome()},showWallpaperDialog(){this.showWallpaper=!0,this.selectedWallpaper=this.$globalConfig.currentWallpaper||""},hideWallpaperDialog(){this.showWallpaper=!1,this.customWallpaperUrl=""},showAboutDialog(){this.showAbout=!0},hideAboutDialog(){this.showAbout=!1},selectWallpaper(a){this.selectedWallpaper=a},confirmWallpaper(){var a=this;this.$globalConfig.currentWallpaper=this.selectedWallpaper;var t=JSON.parse(JSON.stringify(this.selectedWallpaper));this.wallpapers.forEach((function(e,s){e.path==a.selectedWallpaper&&(t=s)})),localStorage.setItem("Wallpapers",t),this.hideWallpaperDialog()},addCustomWallpaper(){if(this.customWallpaperUrl.trim()){try{new URL(this.customWallpaperUrl)}catch(a){return}this.customWallpapers.includes(this.customWallpaperUrl)||(this.customWallpapers.unshift(this.customWallpaperUrl),localStorage.setItem("customWallpapers",JSON.stringify(this.customWallpapers))),this.selectedWallpaper=this.customWallpaperUrl,this.customWallpaperUrl=""}},removeCustomWallpaper(a){this.customWallpapers.splice(a,1),localStorage.setItem("customWallpapers",JSON.stringify(this.customWallpapers)),this.selectedWallpaper===this.customWallpapers[a]&&(this.selectedWallpaper="")},arraysEqual(a,t){if(a.length!==t.length)return!1;for(let e=0;e<a.length;e++)if(a[e]!==t[e])return!1;return!0},showClearCacheDialog(){this.showClearCacheConfirm=!0},hideClearCacheDialog(){this.showClearCacheConfirm=!1},clearCache(){localStorage.clear(),this.$toast("清除成功","success"),this.hideClearCacheDialog()}}},p=n,u=e(1656),h=(0,u.A)(p,s,l,!1,null,"07641ee5",null),v=h.exports},4213:function(a,t,e){a.exports=e.p+"img/user.0989b8fe.jpg"},4603:function(a,t,e){var s=e(6840),l=e(9504),i=e(655),r=e(2812),o=URLSearchParams,c=o.prototype,n=l(c.append),p=l(c["delete"]),u=l(c.forEach),h=l([].push),v=new o("a=1&a=2&b=3");v["delete"]("a",1),v["delete"]("b",void 0),v+""!=="a=2"&&s(c,"delete",(function(a){var t=arguments.length,e=t<2?void 0:arguments[1];if(t&&void 0===e)return p(this,a);var s=[];u(this,(function(a,t){h(s,{key:t,value:a})})),r(t,1);var l,o=i(a),c=i(e),v=0,d=0,m=!1,C=s.length;while(v<C)l=s[v++],m||l.key===o?(m=!0,p(this,l.key)):d++;while(d<C)l=s[d++],l.key===o&&l.value===c||n(this,l.key,l.value)}),{enumerable:!0,unsafe:!0})},7566:function(a,t,e){var s=e(6840),l=e(9504),i=e(655),r=e(2812),o=URLSearchParams,c=o.prototype,n=l(c.getAll),p=l(c.has),u=new o("a=1");!u.has("a",2)&&u.has("a",void 0)||s(c,"has",(function(a){var t=arguments.length,e=t<2?void 0:arguments[1];if(t&&void 0===e)return p(this,a);var s=n(this,a);r(t,1);var l=i(e),o=0;while(o<s.length)if(s[o++]===l)return!0;return!1}),{enumerable:!0,unsafe:!0})},7588:function(a,t,e){var s=e(6518),l=e(2652),i=e(9306),r=e(8551),o=e(1767);s({target:"Iterator",proto:!0,real:!0},{forEach:function(a){r(this),i(a);var t=o(this),e=0;l(t,(function(t){a(t,e++)}),{IS_RECORD:!0})}})},8721:function(a,t,e){var s=e(3724),l=e(9504),i=e(2106),r=URLSearchParams.prototype,o=l(r.forEach);s&&!("size"in r)&&i(r,"size",{get:function(){var a=0;return o(this,(function(){a++})),a},configurable:!0,enumerable:!0})}}]);